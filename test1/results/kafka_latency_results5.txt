======================================================================
KAFKA - RELAT√ìRIO DE LAT√äNCIA END-TO-END
======================================================================

üìñ EXPLICA√á√ÉO DA MEDI√á√ÉO:
----------------------------------------------------------------------
Este teste mede a LAT√äNCIA END-TO-END, que inclui:

  T0 ‚Üí Cria√ß√£o da mensagem no PRODUCER
       - Marca o timestamp antes da serializa√ß√£o JSON
       - Armazenado no campo 'timestamp_ms' da mensagem

  T1 ‚Üí Serializa√ß√£o JSON no producer
       - Convers√£o do dict Python para JSON bytes
       - Feita automaticamente pelo value_serializer

  T2 ‚Üí Envio pela rede + Processamento no Kafka
       - Transmiss√£o TCP/IP (localhost)
       - Persist√™ncia em disco (acks='all')
       - Replica√ß√£o entre brokers (se houver r√©plicas)
       - Armazenamento em parti√ß√£o/offset

  T3 ‚Üí Recebimento RAW no CONSUMER
       - Timestamp capturado ANTES da desserializa√ß√£o
       - Este √© o ponto final da medi√ß√£o
       - IMPORTANTE: value_deserializer=None para controlar isso!

  T4 ‚Üí Desserializa√ß√£o JSON no consumer
       - N√ÉO inclu√≠do na lat√™ncia end-to-end
       - Desserializa√ß√£o manual com json.loads()
       - Medido separadamente para an√°lise

LAT√äNCIA END-TO-END = T3 - T0
(Tempo total desde cria√ß√£o at√© recebimento, sem processamento)
======================================================================

üìä RESUMO ESTAT√çSTICO
----------------------------------------------------------------------
Total de mensagens: 100
Lat√™ncia m√©dia: 1670.13 ms
Lat√™ncia m√≠nima: 1568.54 ms
Lat√™ncia m√°xima: 1874.64 ms
Mediana: 1669.56 ms
Desvio padr√£o: 59.92 ms

Percentis:
  P50: 1670.60 ms
  P90: 1746.82 ms
  P95: 1756.38 ms
  P99: 1874.64 ms

======================================================================

üìã DADOS DETALHADOS (FORMATO DATAFRAME)
----------------------------------------------------------------------
  ID |     T0_Creation |      T3_Receive |     T4_Deserial |    Latency |   Deserial |      Total | Part | Offset
----------------------------------------------------------------------
   0 | 1760998948873.833 | 1760998950748.477 | 1760998950748.496 |   1874.645 |      0.018 |   1874.663 |    0 |    400
   1 | 1760998948983.848 | 1760998950748.562 | 1760998950748.571 |   1764.714 |      0.009 |   1764.723 |    0 |    401
   2 | 1760998948987.405 | 1760998950748.584 | 1760998950748.588 |   1761.178 |      0.004 |   1761.182 |    0 |    402
   3 | 1760998948989.911 | 1760998950748.618 | 1760998950748.624 |   1758.707 |      0.007 |   1758.713 |    0 |    403
   4 | 1760998948992.280 | 1760998950748.657 | 1760998950748.665 |   1756.377 |      0.008 |   1756.385 |    0 |    404
   5 | 1760998948994.394 | 1760998950748.693 | 1760998950748.698 |   1754.299 |      0.005 |   1754.303 |    0 |    405
   6 | 1760998948995.933 | 1760998950748.723 | 1760998950748.731 |   1752.790 |      0.008 |   1752.798 |    0 |    406
   7 | 1760998948997.850 | 1760998950748.764 | 1760998950748.768 |   1750.914 |      0.005 |   1750.918 |    0 |    407
   8 | 1760998948999.983 | 1760998950748.794 | 1760998950748.800 |   1748.811 |      0.006 |   1748.817 |    0 |    408
   9 | 1760998949002.013 | 1760998950748.834 | 1760998950748.840 |   1746.821 |      0.006 |   1746.827 |    0 |    409
  10 | 1760998949004.247 | 1760998950748.874 | 1760998950748.879 |   1744.626 |      0.005 |   1744.632 |    0 |    410
  11 | 1760998949005.898 | 1760998950748.906 | 1760998950748.911 |   1743.008 |      0.005 |   1743.013 |    0 |    411
  12 | 1760998949007.480 | 1760998950748.937 | 1760998950748.942 |   1741.457 |      0.005 |   1741.462 |    0 |    412
  13 | 1760998949009.172 | 1760998950748.971 | 1760998950748.976 |   1739.799 |      0.005 |   1739.803 |    0 |    413
  14 | 1760998949011.249 | 1760998950749.004 | 1760998950749.012 |   1737.755 |      0.008 |   1737.762 |    0 |    414
  15 | 1760998949013.282 | 1760998950749.039 | 1760998950749.044 |   1735.757 |      0.005 |   1735.761 |    0 |    415
  16 | 1760998949015.157 | 1760998950749.072 | 1760998950749.080 |   1733.915 |      0.007 |   1733.922 |    0 |    416
  17 | 1760998949016.805 | 1760998950749.106 | 1760998950749.111 |   1732.301 |      0.005 |   1732.306 |    0 |    417
  18 | 1760998949018.671 | 1760998950749.155 | 1760998950749.161 |   1730.484 |      0.006 |   1730.491 |    0 |    418
  19 | 1760998949021.211 | 1760998950749.187 | 1760998950749.192 |   1727.976 |      0.005 |   1727.981 |    0 |    419
  20 | 1760998949023.343 | 1760998950749.220 | 1760998950749.225 |   1725.877 |      0.004 |   1725.882 |    0 |    420
  21 | 1760998949025.249 | 1760998950749.252 | 1760998950749.259 |   1724.003 |      0.006 |   1724.010 |    0 |    421
  22 | 1760998949026.991 | 1760998950749.291 | 1760998950749.297 |   1722.299 |      0.006 |   1722.305 |    0 |    422
  23 | 1760998949028.395 | 1760998950749.323 | 1760998950749.327 |   1720.927 |      0.005 |   1720.932 |    0 |    423
  24 | 1760998949030.138 | 1760998950749.369 | 1760998950749.376 |   1719.231 |      0.007 |   1719.239 |    0 |    424
  25 | 1760998949032.105 | 1760998950749.426 | 1760998950749.435 |   1717.321 |      0.008 |   1717.329 |    0 |    425
  26 | 1760998949033.733 | 1760998950749.469 | 1760998950749.476 |   1715.736 |      0.007 |   1715.743 |    0 |    426
  27 | 1760998949035.166 | 1760998950749.510 | 1760998950749.515 |   1714.344 |      0.006 |   1714.350 |    0 |    427
  28 | 1760998949036.460 | 1760998950749.548 | 1760998950749.555 |   1713.087 |      0.007 |   1713.094 |    0 |    428
  29 | 1760998949038.526 | 1760998950749.587 | 1760998950749.594 |   1711.061 |      0.007 |   1711.068 |    0 |    429
  30 | 1760998949040.582 | 1760998950749.628 | 1760998950749.634 |   1709.047 |      0.005 |   1709.052 |    0 |    430
  31 | 1760998949043.318 | 1760998950749.644 | 1760998950749.646 |   1706.325 |      0.002 |   1706.328 |    0 |    431
  32 | 1760998949045.161 | 1760998950749.657 | 1760998950749.659 |   1704.496 |      0.002 |   1704.498 |    0 |    432
  33 | 1760998949046.634 | 1760998950749.665 | 1760998950749.667 |   1703.031 |      0.002 |   1703.033 |    0 |    433
  34 | 1760998949048.147 | 1760998950749.672 | 1760998950749.674 |   1701.524 |      0.002 |   1701.527 |    0 |    434
  35 | 1760998949049.868 | 1760998950749.679 | 1760998950749.681 |   1699.811 |      0.002 |   1699.813 |    0 |    435
  36 | 1760998949051.613 | 1760998950749.686 | 1760998950749.688 |   1698.073 |      0.002 |   1698.075 |    0 |    436
  37 | 1760998949053.477 | 1760998950749.693 | 1760998950749.695 |   1696.216 |      0.002 |   1696.219 |    0 |    437
  38 | 1760998949055.496 | 1760998950749.700 | 1760998950749.702 |   1694.204 |      0.002 |   1694.206 |    0 |    438
  39 | 1760998949057.518 | 1760998950749.707 | 1760998950749.709 |   1692.188 |      0.002 |   1692.191 |    0 |    439
  40 | 1760998949059.517 | 1760998950749.714 | 1760998950749.716 |   1690.198 |      0.002 |   1690.199 |    0 |    440
  41 | 1760998949061.390 | 1760998950749.723 | 1760998950749.725 |   1688.333 |      0.002 |   1688.335 |    0 |    441
  42 | 1760998949063.192 | 1760998950749.730 | 1760998950749.732 |   1686.538 |      0.001 |   1686.540 |    0 |    442
  43 | 1760998949065.162 | 1760998950749.737 | 1760998950749.739 |   1684.575 |      0.002 |   1684.577 |    0 |    443
  44 | 1760998949067.417 | 1760998950749.745 | 1760998950749.747 |   1682.327 |      0.002 |   1682.330 |    0 |    444
  45 | 1760998949070.105 | 1760998950749.752 | 1760998950749.754 |   1679.646 |      0.002 |   1679.648 |    0 |    445
  46 | 1760998949072.944 | 1760998950749.760 | 1760998950749.762 |   1676.816 |      0.002 |   1676.818 |    0 |    446
  47 | 1760998949075.206 | 1760998950749.791 | 1760998950749.798 |   1674.585 |      0.006 |   1674.592 |    0 |    447
  48 | 1760998949077.312 | 1760998950749.829 | 1760998950749.835 |   1672.517 |      0.006 |   1672.523 |    0 |    448
  49 | 1760998949079.270 | 1760998950749.867 | 1760998950749.874 |   1670.596 |      0.007 |   1670.603 |    0 |    449
  50 | 1760998949081.388 | 1760998950749.905 | 1760998950749.912 |   1668.517 |      0.007 |   1668.524 |    0 |    450
  51 | 1760998949083.145 | 1760998950749.945 | 1760998950749.952 |   1666.800 |      0.007 |   1666.807 |    0 |    451
  52 | 1760998949084.624 | 1760998950749.991 | 1760998950749.999 |   1665.367 |      0.008 |   1665.375 |    0 |    452
  53 | 1760998949086.286 | 1760998950750.012 | 1760998950750.015 |   1663.726 |      0.003 |   1663.729 |    0 |    453
  54 | 1760998949088.570 | 1760998950750.042 | 1760998950750.050 |   1661.472 |      0.007 |   1661.479 |    0 |    454
  55 | 1760998949090.977 | 1760998950750.081 | 1760998950750.088 |   1659.105 |      0.007 |   1659.112 |    0 |    455
  56 | 1760998949093.140 | 1760998950750.121 | 1760998950750.127 |   1656.981 |      0.006 |   1656.988 |    0 |    456
  57 | 1760998949095.804 | 1760998950750.161 | 1760998950750.168 |   1654.357 |      0.006 |   1654.364 |    0 |    457
  58 | 1760998949097.590 | 1760998950750.204 | 1760998950750.211 |   1652.614 |      0.007 |   1652.621 |    0 |    458
  59 | 1760998949099.231 | 1760998950750.286 | 1760998950750.293 |   1651.055 |      0.007 |   1651.062 |    0 |    459
  60 | 1760998949101.590 | 1760998950750.328 | 1760998950750.335 |   1648.739 |      0.007 |   1648.745 |    0 |    460
  61 | 1760998949104.758 | 1760998950750.369 | 1760998950750.376 |   1645.611 |      0.007 |   1645.618 |    0 |    461
  62 | 1760998949106.884 | 1760998950750.414 | 1760998950750.421 |   1643.530 |      0.007 |   1643.537 |    0 |    462
  63 | 1760998949108.613 | 1760998950750.454 | 1760998950750.460 |   1641.841 |      0.006 |   1641.847 |    0 |    463
  64 | 1760998949110.638 | 1760998950750.488 | 1760998950750.493 |   1639.850 |      0.005 |   1639.855 |    0 |    464
  65 | 1760998949112.528 | 1760998950750.520 | 1760998950750.525 |   1637.992 |      0.005 |   1637.997 |    0 |    465
  66 | 1760998949114.413 | 1760998950750.550 | 1760998950750.554 |   1636.136 |      0.005 |   1636.141 |    0 |    466
  67 | 1760998949116.074 | 1760998950750.582 | 1760998950750.588 |   1634.508 |      0.006 |   1634.515 |    0 |    467
  68 | 1760998949117.605 | 1760998950750.616 | 1760998950750.622 |   1633.011 |      0.005 |   1633.017 |    0 |    468
  69 | 1760998949119.279 | 1760998950750.651 | 1760998950750.657 |   1631.372 |      0.006 |   1631.378 |    0 |    469
  70 | 1760998949121.925 | 1760998950750.690 | 1760998950750.698 |   1628.765 |      0.008 |   1628.773 |    0 |    470
  71 | 1760998949124.095 | 1760998950750.736 | 1760998950750.743 |   1626.641 |      0.006 |   1626.648 |    0 |    471
  72 | 1760998949126.027 | 1760998950750.775 | 1760998950750.782 |   1624.749 |      0.006 |   1624.755 |    0 |    472
  73 | 1760998949127.716 | 1760998950750.815 | 1760998950750.823 |   1623.100 |      0.007 |   1623.107 |    0 |    473
  74 | 1760998949129.057 | 1760998950750.855 | 1760998950750.860 |   1621.798 |      0.005 |   1621.803 |    0 |    474
  75 | 1760998949130.574 | 1760998950750.893 | 1760998950750.900 |   1620.319 |      0.007 |   1620.326 |    0 |    475
  76 | 1760998949132.957 | 1760998950750.932 | 1760998950750.939 |   1617.975 |      0.007 |   1617.982 |    0 |    476
  77 | 1760998949135.847 | 1760998950750.966 | 1760998950750.971 |   1615.119 |      0.005 |   1615.125 |    0 |    477
  78 | 1760998949139.196 | 1760998950750.996 | 1760998950751.001 |   1611.801 |      0.005 |   1611.806 |    0 |    478
  79 | 1760998949141.497 | 1760998950751.030 | 1760998950751.036 |   1609.533 |      0.006 |   1609.539 |    0 |    479
  80 | 1760998949143.424 | 1760998950751.065 | 1760998950751.070 |   1607.641 |      0.005 |   1607.646 |    0 |    480
  81 | 1760998949145.513 | 1760998950751.096 | 1760998950751.101 |   1605.583 |      0.005 |   1605.588 |    0 |    481
  82 | 1760998949147.404 | 1760998950751.209 | 1760998950751.215 |   1603.805 |      0.005 |   1603.811 |    0 |    482
  83 | 1760998949148.907 | 1760998950751.249 | 1760998950751.255 |   1602.342 |      0.005 |   1602.347 |    0 |    483
  84 | 1760998949150.657 | 1760998950751.280 | 1760998950751.285 |   1600.623 |      0.005 |   1600.628 |    0 |    484
  85 | 1760998949152.828 | 1760998950751.310 | 1760998950751.315 |   1598.482 |      0.005 |   1598.488 |    0 |    485
  86 | 1760998949155.113 | 1760998950751.349 | 1760998950751.355 |   1596.236 |      0.006 |   1596.242 |    0 |    486
  87 | 1760998949157.014 | 1760998950751.387 | 1760998950751.395 |   1594.373 |      0.007 |   1594.381 |    0 |    487
  88 | 1760998949158.748 | 1760998950751.426 | 1760998950751.438 |   1592.678 |      0.010 |   1592.690 |    0 |    488
  89 | 1760998949160.679 | 1760998950751.453 | 1760998950751.458 |   1590.774 |      0.005 |   1590.780 |    0 |    489
  90 | 1760998949162.517 | 1760998950751.473 | 1760998950751.479 |   1588.956 |      0.006 |   1588.962 |    0 |    490
  91 | 1760998949164.102 | 1760998950751.513 | 1760998950751.519 |   1587.410 |      0.006 |   1587.417 |    0 |    491
  92 | 1760998949165.477 | 1760998950751.552 | 1760998950751.559 |   1586.075 |      0.007 |   1586.082 |    0 |    492
  93 | 1760998949167.531 | 1760998950751.587 | 1760998950751.592 |   1584.056 |      0.005 |   1584.061 |    0 |    493
  94 | 1760998949169.659 | 1760998950751.617 | 1760998950751.622 |   1581.958 |      0.005 |   1581.963 |    0 |    494
  95 | 1760998949173.069 | 1760998950751.632 | 1760998950751.634 |   1578.563 |      0.002 |   1578.565 |    0 |    495
  96 | 1760998949175.457 | 1760998950751.657 | 1760998950751.662 |   1576.200 |      0.005 |   1576.205 |    0 |    496
  97 | 1760998949177.538 | 1760998950751.672 | 1760998950751.675 |   1574.134 |      0.002 |   1574.136 |    0 |    497
  98 | 1760998949180.569 | 1760998950751.702 | 1760998950751.708 |   1571.134 |      0.005 |   1571.139 |    0 |    498
  99 | 1760998949183.199 | 1760998950751.739 | 1760998950751.744 |   1568.539 |      0.005 |   1568.544 |    0 |    499

======================================================================
LEGENDA:
  ID         = Identificador da mensagem
  T0_Creation = Timestamp de cria√ß√£o no producer (ms)
  T3_Receive  = Timestamp de recebimento RAW no consumer (ms)
  T4_Deserial = Timestamp ap√≥s desserializa√ß√£o (ms)
  Latency     = Lat√™ncia end-to-end SEM desserializa√ß√£o (ms)
  Deserial    = Tempo de desserializa√ß√£o JSON (ms)
  Total       = Tempo total COM desserializa√ß√£o (ms)
  Part        = Parti√ß√£o do Kafka onde a mensagem foi armazenada
  Offset      = Offset da mensagem na parti√ß√£o
======================================================================
