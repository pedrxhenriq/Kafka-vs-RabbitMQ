======================================================================
KAFKA - RELAT√ìRIO DE LAT√äNCIA END-TO-END
======================================================================

üìñ EXPLICA√á√ÉO DA MEDI√á√ÉO:
----------------------------------------------------------------------
Este teste mede a LAT√äNCIA END-TO-END, que inclui:

  T0 ‚Üí Cria√ß√£o da mensagem no PRODUCER
       - Marca o timestamp antes da serializa√ß√£o JSON
       - Armazenado no campo 'timestamp_ms' da mensagem

  T1 ‚Üí Serializa√ß√£o JSON no producer
       - Convers√£o do dict Python para JSON bytes
       - Feita automaticamente pelo value_serializer

  T2 ‚Üí Envio pela rede + Processamento no Kafka
       - Transmiss√£o TCP/IP (localhost)
       - Persist√™ncia em disco (acks='all')
       - Replica√ß√£o entre brokers (se houver r√©plicas)
       - Armazenamento em parti√ß√£o/offset

  T3 ‚Üí Recebimento RAW no CONSUMER
       - Timestamp capturado ANTES da desserializa√ß√£o
       - Este √© o ponto final da medi√ß√£o
       - IMPORTANTE: value_deserializer=None para controlar isso!

  T4 ‚Üí Desserializa√ß√£o JSON no consumer
       - N√ÉO inclu√≠do na lat√™ncia end-to-end
       - Desserializa√ß√£o manual com json.loads()
       - Medido separadamente para an√°lise

LAT√äNCIA END-TO-END = T3 - T0
(Tempo total desde cria√ß√£o at√© recebimento, sem processamento)
======================================================================

üìä RESUMO ESTAT√çSTICO
----------------------------------------------------------------------
Total de mensagens: 100
Lat√™ncia m√©dia: 468.98 ms
Lat√™ncia m√≠nima: 348.85 ms
Lat√™ncia m√°xima: 693.06 ms
Mediana: 468.84 ms
Desvio padr√£o: 71.57 ms

Percentis:
  P50: 470.13 ms
  P90: 565.07 ms
  P95: 576.66 ms
  P99: 693.06 ms

======================================================================

üìã DADOS DETALHADOS (FORMATO DATAFRAME)
----------------------------------------------------------------------
  ID |     T0_Creation |      T3_Receive |     T4_Deserial |    Latency |   Deserial |      Total | Part | Offset
----------------------------------------------------------------------
   0 | 1760998909892.408 | 1760998910585.471 | 1760998910585.495 |    693.063 |      0.023 |    693.087 |    0 |    100
   1 | 1760998910001.699 | 1760998910585.587 | 1760998910585.599 |    583.889 |      0.011 |    583.900 |    0 |    101
   2 | 1760998910003.827 | 1760998910585.645 | 1760998910585.654 |    581.818 |      0.009 |    581.827 |    0 |    102
   3 | 1760998910006.515 | 1760998910585.694 | 1760998910585.702 |    579.178 |      0.007 |    579.186 |    0 |    103
   4 | 1760998910009.083 | 1760998910585.742 | 1760998910585.750 |    576.660 |      0.007 |    576.668 |    0 |    104
   5 | 1760998910011.498 | 1760998910585.790 | 1760998910585.798 |    574.292 |      0.008 |    574.300 |    0 |    105
   6 | 1760998910014.203 | 1760998910585.837 | 1760998910585.844 |    571.634 |      0.007 |    571.641 |    0 |    106
   7 | 1760998910016.542 | 1760998910585.884 | 1760998910585.893 |    569.342 |      0.009 |    569.351 |    0 |    107
   8 | 1760998910018.576 | 1760998910585.934 | 1760998910585.945 |    567.358 |      0.010 |    567.368 |    0 |    108
   9 | 1760998910020.909 | 1760998910585.982 | 1760998910585.988 |    565.073 |      0.006 |    565.079 |    0 |    109
  10 | 1760998910023.080 | 1760998910586.021 | 1760998910586.027 |    562.941 |      0.006 |    562.947 |    0 |    110
  11 | 1760998910025.877 | 1760998910586.059 | 1760998910586.065 |    560.182 |      0.006 |    560.188 |    0 |    111
  12 | 1760998910028.094 | 1760998910586.099 | 1760998910586.105 |    558.004 |      0.006 |    558.011 |    0 |    112
  13 | 1760998910031.775 | 1760998910586.143 | 1760998910586.149 |    554.368 |      0.006 |    554.374 |    0 |    113
  14 | 1760998910034.052 | 1760998910586.181 | 1760998910586.187 |    552.129 |      0.006 |    552.135 |    0 |    114
  15 | 1760998910036.463 | 1760998910586.217 | 1760998910586.224 |    549.754 |      0.006 |    549.760 |    0 |    115
  16 | 1760998910038.583 | 1760998910586.256 | 1760998910586.262 |    547.673 |      0.006 |    547.679 |    0 |    116
  17 | 1760998910041.359 | 1760998910586.292 | 1760998910586.299 |    544.934 |      0.006 |    544.940 |    0 |    117
  18 | 1760998910045.271 | 1760998910586.310 | 1760998910586.314 |    541.039 |      0.004 |    541.043 |    0 |    118
  19 | 1760998910048.492 | 1760998910586.321 | 1760998910586.324 |    537.829 |      0.003 |    537.832 |    0 |    119
  20 | 1760998910050.796 | 1760998910586.334 | 1760998910586.337 |    535.538 |      0.003 |    535.541 |    0 |    120
  21 | 1760998910053.476 | 1760998910586.364 | 1760998910586.370 |    532.888 |      0.006 |    532.894 |    0 |    121
  22 | 1760998910055.526 | 1760998910586.405 | 1760998910586.412 |    530.879 |      0.008 |    530.887 |    0 |    122
  23 | 1760998910058.280 | 1760998910586.449 | 1760998910586.455 |    528.169 |      0.006 |    528.175 |    0 |    123
  24 | 1760998910060.543 | 1760998910586.467 | 1760998910586.470 |    525.923 |      0.003 |    525.927 |    0 |    124
  25 | 1760998910062.531 | 1760998910586.478 | 1760998910586.481 |    523.947 |      0.003 |    523.950 |    0 |    125
  26 | 1760998910064.968 | 1760998910586.488 | 1760998910586.492 |    521.520 |      0.003 |    521.524 |    0 |    126
  27 | 1760998910067.181 | 1760998910586.499 | 1760998910586.501 |    519.317 |      0.003 |    519.320 |    0 |    127
  28 | 1760998910070.041 | 1760998910586.508 | 1760998910586.511 |    516.467 |      0.003 |    516.470 |    0 |    128
  29 | 1760998910072.112 | 1760998910586.556 | 1760998910586.564 |    514.444 |      0.008 |    514.453 |    0 |    129
  30 | 1760998910074.114 | 1760998910586.604 | 1760998910586.614 |    512.490 |      0.010 |    512.500 |    0 |    130
  31 | 1760998910076.881 | 1760998910586.655 | 1760998910586.665 |    509.775 |      0.009 |    509.784 |    0 |    131
  32 | 1760998910078.974 | 1760998910586.715 | 1760998910586.724 |    507.741 |      0.008 |    507.750 |    0 |    132
  33 | 1760998910081.488 | 1760998910586.744 | 1760998910586.751 |    505.256 |      0.007 |    505.263 |    0 |    133
  34 | 1760998910083.856 | 1760998910586.792 | 1760998910586.801 |    502.936 |      0.008 |    502.945 |    0 |    134
  35 | 1760998910085.760 | 1760998910586.833 | 1760998910586.839 |    501.073 |      0.006 |    501.079 |    0 |    135
  36 | 1760998910087.647 | 1760998910586.872 | 1760998910586.880 |    499.225 |      0.007 |    499.233 |    0 |    136
  37 | 1760998910089.355 | 1760998910586.922 | 1760998910586.931 |    497.567 |      0.009 |    497.576 |    0 |    137
  38 | 1760998910091.567 | 1760998910586.973 | 1760998910586.982 |    495.406 |      0.009 |    495.415 |    0 |    138
  39 | 1760998910093.911 | 1760998910586.996 | 1760998910586.999 |    493.085 |      0.003 |    493.089 |    0 |    139
  40 | 1760998910095.912 | 1760998910587.007 | 1760998910587.009 |    491.095 |      0.002 |    491.098 |    0 |    140
  41 | 1760998910098.054 | 1760998910587.020 | 1760998910587.023 |    488.966 |      0.003 |    488.969 |    0 |    141
  42 | 1760998910100.060 | 1760998910587.051 | 1760998910587.057 |    486.991 |      0.006 |    486.997 |    0 |    142
  43 | 1760998910102.104 | 1760998910587.088 | 1760998910587.094 |    484.984 |      0.006 |    484.991 |    0 |    143
  44 | 1760998910104.225 | 1760998910587.145 | 1760998910587.153 |    482.920 |      0.008 |    482.928 |    0 |    144
  45 | 1760998910106.557 | 1760998910587.190 | 1760998910587.200 |    480.632 |      0.010 |    480.643 |    0 |    145
  46 | 1760998910108.684 | 1760998910587.238 | 1760998910587.245 |    478.554 |      0.006 |    478.561 |    0 |    146
  47 | 1760998910111.251 | 1760998910587.276 | 1760998910587.282 |    476.025 |      0.006 |    476.031 |    0 |    147
  48 | 1760998910114.266 | 1760998910587.313 | 1760998910587.320 |    473.047 |      0.006 |    473.054 |    0 |    148
  49 | 1760998910117.223 | 1760998910587.351 | 1760998910587.357 |    470.128 |      0.006 |    470.134 |    0 |    149
  50 | 1760998910119.839 | 1760998910587.389 | 1760998910587.395 |    467.550 |      0.006 |    467.556 |    0 |    150
  51 | 1760998910121.932 | 1760998910587.426 | 1760998910587.432 |    465.494 |      0.006 |    465.500 |    0 |    151
  52 | 1760998910124.065 | 1760998910587.466 | 1760998910587.472 |    463.401 |      0.006 |    463.407 |    0 |    152
  53 | 1760998910126.137 | 1760998910587.504 | 1760998910587.510 |    461.367 |      0.006 |    461.373 |    0 |    153
  54 | 1760998910128.600 | 1760998910587.546 | 1760998910587.552 |    458.946 |      0.006 |    458.952 |    0 |    154
  55 | 1760998910131.234 | 1760998910587.583 | 1760998910587.589 |    456.349 |      0.006 |    456.355 |    0 |    155
  56 | 1760998910133.182 | 1760998910587.620 | 1760998910587.626 |    454.438 |      0.006 |    454.444 |    0 |    156
  57 | 1760998910135.455 | 1760998910587.659 | 1760998910587.665 |    452.205 |      0.006 |    452.211 |    0 |    157
  58 | 1760998910137.795 | 1760998910587.698 | 1760998910587.705 |    449.903 |      0.006 |    449.909 |    0 |    158
  59 | 1760998910140.369 | 1760998910587.735 | 1760998910587.742 |    447.366 |      0.006 |    447.373 |    0 |    159
  60 | 1760998910142.948 | 1760998910587.772 | 1760998910587.779 |    444.825 |      0.006 |    444.831 |    0 |    160
  61 | 1760998910146.025 | 1760998910587.810 | 1760998910587.816 |    441.785 |      0.006 |    441.791 |    0 |    161
  62 | 1760998910148.913 | 1760998910587.847 | 1760998910587.853 |    438.934 |      0.006 |    438.940 |    0 |    162
  63 | 1760998910151.457 | 1760998910587.865 | 1760998910587.868 |    436.409 |      0.003 |    436.412 |    0 |    163
  64 | 1760998910154.092 | 1760998910587.896 | 1760998910587.902 |    433.804 |      0.006 |    433.810 |    0 |    164
  65 | 1760998910156.310 | 1760998910587.934 | 1760998910587.940 |    431.623 |      0.006 |    431.629 |    0 |    165
  66 | 1760998910158.742 | 1760998910587.970 | 1760998910587.977 |    429.228 |      0.006 |    429.235 |    0 |    166
  67 | 1760998910161.077 | 1760998910588.008 | 1760998910588.014 |    426.931 |      0.006 |    426.937 |    0 |    167
  68 | 1760998910163.432 | 1760998910588.045 | 1760998910588.052 |    424.613 |      0.006 |    424.620 |    0 |    168
  69 | 1760998910165.719 | 1760998910588.082 | 1760998910588.089 |    422.364 |      0.006 |    422.370 |    0 |    169
  70 | 1760998910168.229 | 1760998910588.121 | 1760998910588.127 |    419.892 |      0.006 |    419.898 |    0 |    170
  71 | 1760998910170.474 | 1760998910588.160 | 1760998910588.166 |    417.686 |      0.006 |    417.692 |    0 |    171
  72 | 1760998910172.333 | 1760998910588.197 | 1760998910588.203 |    415.864 |      0.006 |    415.870 |    0 |    172
  73 | 1760998910174.320 | 1760998910588.234 | 1760998910588.240 |    413.913 |      0.006 |    413.920 |    0 |    173
  74 | 1760998910176.549 | 1760998910588.271 | 1760998910588.278 |    411.722 |      0.006 |    411.728 |    0 |    174
  75 | 1760998910179.229 | 1760998910588.308 | 1760998910588.314 |    409.079 |      0.006 |    409.085 |    0 |    175
  76 | 1760998910181.965 | 1760998910588.327 | 1760998910588.330 |    406.362 |      0.003 |    406.365 |    0 |    176
  77 | 1760998910184.826 | 1760998910588.358 | 1760998910588.364 |    403.532 |      0.006 |    403.538 |    0 |    177
  78 | 1760998910188.765 | 1760998910588.395 | 1760998910588.401 |    399.630 |      0.006 |    399.637 |    0 |    178
  79 | 1760998910190.897 | 1760998910588.432 | 1760998910588.441 |    397.535 |      0.009 |    397.544 |    0 |    179
  80 | 1760998910193.934 | 1760998910588.473 | 1760998910588.479 |    394.539 |      0.006 |    394.545 |    0 |    180
  81 | 1760998910196.527 | 1760998910588.511 | 1760998910588.517 |    391.984 |      0.006 |    391.990 |    0 |    181
  82 | 1760998910198.840 | 1760998910588.632 | 1760998910588.638 |    389.792 |      0.006 |    389.798 |    0 |    182
  83 | 1760998910200.979 | 1760998910588.669 | 1760998910588.676 |    387.691 |      0.006 |    387.697 |    0 |    183
  84 | 1760998910203.369 | 1760998910588.709 | 1760998910588.715 |    385.340 |      0.006 |    385.346 |    0 |    184
  85 | 1760998910205.395 | 1760998910588.746 | 1760998910588.752 |    383.351 |      0.006 |    383.357 |    0 |    185
  86 | 1760998910207.358 | 1760998910588.783 | 1760998910588.790 |    381.425 |      0.006 |    381.432 |    0 |    186
  87 | 1760998910209.848 | 1760998910588.821 | 1760998910588.827 |    378.973 |      0.006 |    378.979 |    0 |    187
  88 | 1760998910211.901 | 1760998910588.859 | 1760998910588.865 |    376.958 |      0.006 |    376.964 |    0 |    188
  89 | 1760998910215.188 | 1760998910588.896 | 1760998910588.903 |    373.708 |      0.006 |    373.715 |    0 |    189
  90 | 1760998910218.635 | 1760998910588.915 | 1760998910588.918 |    370.279 |      0.003 |    370.282 |    0 |    190
  91 | 1760998910221.000 | 1760998910588.949 | 1760998910588.955 |    367.948 |      0.006 |    367.954 |    0 |    191
  92 | 1760998910222.816 | 1760998910588.986 | 1760998910588.995 |    366.171 |      0.009 |    366.179 |    0 |    192
  93 | 1760998910226.199 | 1760998910589.027 | 1760998910589.033 |    362.828 |      0.006 |    362.834 |    0 |    193
  94 | 1760998910229.111 | 1760998910589.066 | 1760998910589.072 |    359.954 |      0.006 |    359.961 |    0 |    194
  95 | 1760998910231.271 | 1760998910589.103 | 1760998910589.109 |    357.832 |      0.006 |    357.838 |    0 |    195
  96 | 1760998910233.609 | 1760998910589.142 | 1760998910589.148 |    355.532 |      0.006 |    355.539 |    0 |    196
  97 | 1760998910236.233 | 1760998910589.185 | 1760998910589.191 |    352.952 |      0.006 |    352.958 |    0 |    197
  98 | 1760998910238.344 | 1760998910589.226 | 1760998910589.232 |    350.882 |      0.006 |    350.888 |    0 |    198
  99 | 1760998910240.413 | 1760998910589.263 | 1760998910589.270 |    348.850 |      0.006 |    348.856 |    0 |    199

======================================================================
LEGENDA:
  ID         = Identificador da mensagem
  T0_Creation = Timestamp de cria√ß√£o no producer (ms)
  T3_Receive  = Timestamp de recebimento RAW no consumer (ms)
  T4_Deserial = Timestamp ap√≥s desserializa√ß√£o (ms)
  Latency     = Lat√™ncia end-to-end SEM desserializa√ß√£o (ms)
  Deserial    = Tempo de desserializa√ß√£o JSON (ms)
  Total       = Tempo total COM desserializa√ß√£o (ms)
  Part        = Parti√ß√£o do Kafka onde a mensagem foi armazenada
  Offset      = Offset da mensagem na parti√ß√£o
======================================================================
